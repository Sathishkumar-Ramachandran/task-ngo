{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/Task/task-ngo/pages/api/reports/job-status/%5Bid%5D.js"],"sourcesContent":["import { reportsQueue } from '../../../lib/utils/queue';\r\n\r\nexport default async function handler(req, res) {\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ error: 'Method not allowed' });\r\n  }\r\n\r\n  try {\r\n    const { id } = req.query;\r\n    const job = await reportsQueue.getJob(id);\r\n    if (!job) {\r\n      return res.status(404).json({ error: 'Job not found' });\r\n    }\r\n    const state = await job.getState();\r\n    const progress = job.progress;\r\n    res.json({ id: job.id, state, progress });\r\n  } catch (error) {\r\n    res.status(500).json({ error: 'Error fetching job status' });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IAC5D;IAEA,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;QACxB,MAAM,MAAM,MAAM,aAAa,MAAM,CAAC;QACtC,IAAI,CAAC,KAAK;YACR,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAgB;QACvD;QACA,MAAM,QAAQ,MAAM,IAAI,QAAQ;QAChC,MAAM,WAAW,IAAI,QAAQ;QAC7B,IAAI,IAAI,CAAC;YAAE,IAAI,IAAI,EAAE;YAAE;YAAO;QAAS;IACzC,EAAE,OAAO,OAAO;QACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAA4B;IAC5D;AACF"}}]
}